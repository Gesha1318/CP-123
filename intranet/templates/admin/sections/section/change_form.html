{% extends "admin/change_form.html" %}
{% load i18n admin_urls static admin_modify %}

{% block extrahead %}{{ block.super }}
<script type="text/javascript" src="{% url 'admin:jsi18n' %}"></script>
{{ media }}
{% endblock %}

{% block extrastyle %}{{ block.super }}
<link rel="stylesheet" type="text/css" href="{% static "css/admin-custom.css" %}">
{% endblock %}

{% block field_sets %}
{% for fieldset in adminform %}
  <fieldset class="module aligned {{ fieldset.classes }}">
    {% if fieldset.name %}<h2>{{ fieldset.name }}</h2>{% endif %}
    
    {% if fieldset.description %}
    <div class="description">{{ fieldset.description|safe }}</div>
    {% endif %}
    
    {% for line in fieldset %}
    <div class="form-group{% if line.errors %} errors{% endif %}{% if not line.has_visible_field %} hidden{% endif %}">
      {% for field in line %}
      <div class="field-wrapper">
        <div class="field-label">
          {{ field.field.label_tag }}
          {% if field.field.field.required %}
          <span class="required">*</span>
          {% endif %}
        </div>
        <div class="field-content">
          {% if field.is_readonly %}
          <div class="readonly">{{ field.contents }}</div>
          {% else %}
          {{ field.field }}
          {% endif %}
          {% if field.field.help_text %}
          <div class="help">{{ field.field.help_text|safe }}</div>
          {% endif %}
          {% if field.errors %}
          <p class="errornote">
            {{ field.errors|striptags }}
          </p>
          {% endif %}
        </div>
      </div>
      {% endfor %}
    </div>
    {% endfor %}
  </fieldset>
{% endfor %}
{% endblock %}